{"ast":null,"code":"var _jsxFileName = \"/Users/siangling/starter-restaurant-reservation/front-end/src/search/Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport ReservationsList from \"../reservations/ReservationsList\";\nimport ErrorAlert from \"../layout/ErrorAlert\";\nimport { listReservations } from \"../utils/api\";\nimport \"./Search.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Search() {\n  _s();\n  const [error, setError] = useState(null);\n  const [mobile_number, setMobileNumber] = useState(\"\");\n  const [reservations, setReservations] = useState([]);\n  const [reservationMessage, setReservationMessage] = useState(\"\");\n\n  // Change handler\n  const handleChange = ({\n    target\n  }) => {\n    setMobileNumber(target.value);\n  };\n\n  // Handle find\n  const handleFind = event => {\n    event.preventDefault();\n    const abortController = new AbortController();\n    listReservations({\n      mobile_number\n    }, abortController.signal).then(reservations => setReservations(reservations)).then(setReservationMessage(\"No reservations found\")).catch(error => setError(error));\n    return () => abortController.abort();\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"search-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"search-header\",\n      children: \"Reservation Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ErrorAlert, {\n      error: error,\n      setError: setError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"input-group mb-3\",\n      id: \"mobileSearchBox\",\n      onSubmit: handleFind,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"mobile_number\",\n        className: \"form-control\",\n        onChange: handleChange,\n        value: mobile_number,\n        placeholder: \"Enter a customer's phone number\",\n        \"aria-label\": \"Enter a customer's phone number\",\n        \"aria-describedby\": \"button-addon2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        type: \"submit\",\n        id: \"button-addon2\",\n        children: \"Find\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reservationsList\",\n      children: reservations.length ? /*#__PURE__*/_jsxDEV(ReservationsList, {\n        reservations: reservations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: reservationMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(Search, \"T0O6Hmvm3xA2cltMPmHpxv0pZ00=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","ReservationsList","ErrorAlert","listReservations","jsxDEV","_jsxDEV","Search","_s","error","setError","mobile_number","setMobileNumber","reservations","setReservations","reservationMessage","setReservationMessage","handleChange","target","value","handleFind","event","preventDefault","abortController","AbortController","signal","then","catch","abort","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","onSubmit","type","name","onChange","placeholder","length","_c","$RefreshReg$"],"sources":["/Users/siangling/starter-restaurant-reservation/front-end/src/search/Search.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport ReservationsList from \"../reservations/ReservationsList\";\nimport ErrorAlert from \"../layout/ErrorAlert\";\nimport { listReservations } from \"../utils/api\";\nimport \"./Search.css\";\n\nfunction Search() {\n  const [error, setError] = useState(null);\n  const [mobile_number, setMobileNumber] = useState(\"\");\n  const [reservations, setReservations] = useState([]);\n  const [reservationMessage, setReservationMessage] = useState(\"\");\n\n  // Change handler\n  const handleChange = ({ target }) => {\n    setMobileNumber(target.value);\n  };\n\n  // Handle find\n  const handleFind = (event) => {\n    event.preventDefault();\n\n    const abortController = new AbortController();\n    listReservations({ mobile_number }, abortController.signal)\n      .then((reservations) => setReservations(reservations))\n      .then(setReservationMessage(\"No reservations found\"))\n      .catch((error) => setError(error));\n\n    return () => abortController.abort();\n  };\n\n  return (\n    <main className=\"search-page\">\n      <h2 className=\"search-header\">Reservation Search</h2>\n      <ErrorAlert error={error} setError={setError} />\n\n      {/* Search Box */}\n      <form className=\"input-group mb-3\" id=\"mobileSearchBox\" onSubmit={handleFind}>\n        <input \n          type=\"text\" \n          name=\"mobile_number\"\n          className=\"form-control\" \n          onChange={handleChange}\n          value={mobile_number}\n          placeholder=\"Enter a customer's phone number\" \n          aria-label=\"Enter a customer's phone number\" \n          aria-describedby=\"button-addon2\" \n        />\n        <button \n          className=\"btn\" \n          type=\"submit\" \n          id=\"button-addon2\"\n        >\n          Find\n        </button>\n      </form>\n\n      {/* Reservations - displays \"No reservations found\" if length is zero */}\n      <div className=\"reservationsList\">\n        {reservations.length ? \n          <ReservationsList reservations={reservations} />\n          :\n          <h3>{reservationMessage}</h3>\n        }\n      </div>\n    </main>\n  );\n}\n\nexport default Search;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}