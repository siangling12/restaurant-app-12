{"ast":null,"code":"var _jsxFileName = \"/Users/siangling/starter-restaurant-reservation/front-end/src/reservations/CancelReservationButton.js\";\nimport React from \"react\";\nimport { cancelReservation } from \"../utils/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CancelReservationButton({\n  reservation_id,\n  setReservationsError,\n  loadReservationsAndTables\n}) {\n  const handleOk = event => {\n    event.preventDefault();\n    const message = \"Do you want to cancel this reservation? This cannot be undone.\";\n    if (window.confirm(message)) {\n      const abortController = new AbortController(); // Create an AbortController\n\n      cancelReservation(reservation_id, abortController.signal) // Pass the AbortSignal here\n      .then(() => loadReservationsAndTables()) // Reload the reservations and tables after canceling\n      .catch(setReservationsError); // Handle any errors\n\n      return () => abortController.abort(); // Clean up to avoid memory leaks\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      onClick: handleOk,\n      \"data-reservation-id-cancel\": reservation_id,\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_c = CancelReservationButton;\nexport default CancelReservationButton;\nvar _c;\n$RefreshReg$(_c, \"CancelReservationButton\");","map":{"version":3,"names":["React","cancelReservation","jsxDEV","_jsxDEV","Fragment","_Fragment","CancelReservationButton","reservation_id","setReservationsError","loadReservationsAndTables","handleOk","event","preventDefault","message","window","confirm","abortController","AbortController","signal","then","catch","abort","children","type","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/siangling/starter-restaurant-reservation/front-end/src/reservations/CancelReservationButton.js"],"sourcesContent":["import React from \"react\";\nimport { cancelReservation } from \"../utils/api\";\n\nfunction CancelReservationButton({ reservation_id, setReservationsError, loadReservationsAndTables }) {\n  \n  const handleOk = (event) => {\n    event.preventDefault();\n    const message = \"Do you want to cancel this reservation? This cannot be undone.\";\n    \n    if (window.confirm(message)) {\n      const abortController = new AbortController();  // Create an AbortController\n      \n      cancelReservation(reservation_id, abortController.signal)  // Pass the AbortSignal here\n        .then(() => loadReservationsAndTables())  // Reload the reservations and tables after canceling\n        .catch(setReservationsError);  // Handle any errors\n\n      return () => abortController.abort();  // Clean up to avoid memory leaks\n    }\n  };\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        className=\"btn btn-danger\"\n        onClick={handleOk}\n        data-reservation-id-cancel={reservation_id}>\n          Cancel\n      </button>\n    </>\n  );\n}\n\nexport default CancelReservationButton;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjD,SAASC,uBAAuBA,CAAC;EAAEC,cAAc;EAAEC,oBAAoB;EAAEC;AAA0B,CAAC,EAAE;EAEpG,MAAMC,QAAQ,GAAIC,KAAK,IAAK;IAC1BA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,MAAMC,OAAO,GAAG,gEAAgE;IAEhF,IAAIC,MAAM,CAACC,OAAO,CAACF,OAAO,CAAC,EAAE;MAC3B,MAAMG,eAAe,GAAG,IAAIC,eAAe,CAAC,CAAC,CAAC,CAAE;;MAEhDhB,iBAAiB,CAACM,cAAc,EAAES,eAAe,CAACE,MAAM,CAAC,CAAE;MAAA,CACxDC,IAAI,CAAC,MAAMV,yBAAyB,CAAC,CAAC,CAAC,CAAE;MAAA,CACzCW,KAAK,CAACZ,oBAAoB,CAAC,CAAC,CAAE;;MAEjC,OAAO,MAAMQ,eAAe,CAACK,KAAK,CAAC,CAAC,CAAC,CAAE;IACzC;EACF,CAAC;EAED,oBACElB,OAAA,CAAAE,SAAA;IAAAiB,QAAA,eACEnB,OAAA;MACEoB,IAAI,EAAC,QAAQ;MACbC,SAAS,EAAC,gBAAgB;MAC1BC,OAAO,EAAEf,QAAS;MAClB,8BAA4BH,cAAe;MAAAe,QAAA,EAAC;IAE9C;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAAC,gBACT,CAAC;AAEP;AAACC,EAAA,GA5BQxB,uBAAuB;AA8BhC,eAAeA,uBAAuB;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}